(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{73:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return o})),t.d(n,"metadata",(function(){return c})),t.d(n,"toc",(function(){return l})),t.d(n,"default",(function(){return b}));var a=t(3),r=t(7),i=(t(0),t(87)),o={id:"build_node",title:"Building a Node with LDK"},c={unversionedId:"build_node",id:"build_node",isDocsHomePage:!1,title:"Building a Node with LDK",description:"Introduction",source:"@site/docs/build_node.md",slug:"/build_node",permalink:"/docs/build_node",editUrl:"https://github.com/lightningdevkit/lightningdevkit.org/tree/main/docs/build_node.md",version:"current",sidebar:"someSidebar",previous:{title:"Use Cases for LDK",permalink:"/docs/use_cases"},next:{title:"Opening a Channel with LDK",permalink:"/docs/open_channel"}},l=[{value:"Introduction",id:"introduction",children:[]},{value:"Setup",id:"setup",children:[{value:"Initialize the <code>FeeEstimator</code>",id:"initialize-the-feeestimator",children:[]},{value:"Initialize the <code>Logger</code>",id:"initialize-the-logger",children:[]},{value:"Initialize the <code>BroadcasterInterface</code>",id:"initialize-the-broadcasterinterface",children:[]},{value:"Initialize <code>Persist</code>",id:"initialize-persist",children:[]},{value:"Initialize the <code>ChainMonitor</code>",id:"initialize-the-chainmonitor",children:[]},{value:"Initialize the <code>KeysManager</code>",id:"initialize-the-keysmanager",children:[]},{value:"Read <code>ChannelMonitor</code> state from disk",id:"read-channelmonitor-state-from-disk",children:[]},{value:"Sync <code>ChannelMonitor</code>s to chain tip",id:"sync-channelmonitors-to-chain-tip",children:[]},{value:"Initialize the <code>ChannelManager</code>",id:"initialize-the-channelmanager",children:[]},{value:"Give <code>ChannelMonitor</code>s to <code>ChainMonitor</code>",id:"give-channelmonitors-to-chainmonitor",children:[]},{value:"Optional: Initialize the <code>NetGraphMsgHandler</code>",id:"optional-initialize-the-netgraphmsghandler",children:[]},{value:"Initialize the <code>PeerManager</code>",id:"initialize-the-peermanager",children:[]},{value:"Initialize networking",id:"initialize-networking",children:[]}]},{value:"Running LDK",id:"running-ldk",children:[{value:"Connected and Disconnected Blocks",id:"connected-and-disconnected-blocks",children:[]},{value:"Handle <code>ChannelManager</code> and <code>ChainMonitor</code>&#39;s Generated Events",id:"handle-channelmanager-and-chainmonitors-generated-events",children:[]},{value:"Persist <code>ChannelManager</code>",id:"persist-channelmanager",children:[]},{value:"Once Per Minute: <code>ChannelManager</code>&#39;s <code>timer_chan_freshness_every_min()</code>",id:"once-per-minute-channelmanagers-timer_chan_freshness_every_min",children:[]}]},{value:"Using LDK",id:"using-ldk",children:[{value:"Opening a Channel",id:"opening-a-channel",children:[]},{value:"Closing a Channel",id:"closing-a-channel",children:[]},{value:"List Channels",id:"list-channels",children:[]},{value:"WIP: Sending/Receiving Payments",id:"wip-sendingreceiving-payments",children:[]},{value:"Connect to Peers",id:"connect-to-peers",children:[]},{value:"List Peers",id:"list-peers",children:[]}]}],s={toc:l};function b(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"introduction"},"Introduction"),Object(i.b)("p",null,"This document covers everything you need to make a node using LDK."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"#setup"}),"Setup")," covers everything you need to do to set up LDK on startup."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"#running-ldk"}),"Running LDK")," covers everything you need to do while LDK is running to keep it operational."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"#using-ldk"}),"Using LDK")," covers most lightning operations you'll want to use,\nsuch as opening a channel. Sending and receiving payments are supported but\nnot yet a part of this guide.")),Object(i.b)("p",null,"Note that LDK does not assume that safe shutdown is available, so there is no\nshutdown checklist."),Object(i.b)("h2",{id:"setup"},"Setup"),Object(i.b)("h3",{id:"initialize-the-feeestimator"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"FeeEstimator")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," estimating fees for on-chain transactions that LDK wants broadcasted."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," ",Object(i.b)("inlineCode",{parentName:"p"},"FeeEstimator")," that returns static fees"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// `FeeEstimatorInterface` is a functional interface, so we can implement it\n// with a lambda.\nfinal fee_estimator = FeeEstimator.new_impl((confirmation_target -> 253));\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," Rather than using static fees, you'll want to fill in\nthe lambda with fetching up-to-date fees from a source like bitcoin core or your\nown API endpoint."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("em",{parentName:"p"},"none")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/chaininterface/trait.FeeEstimator.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/FeeEstimator.java"}),"Java bindings")),Object(i.b)("h3",{id:"initialize-the-logger"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"Logger")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," LDK logging"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," ",Object(i.b)("inlineCode",{parentName:"p"},"Logger")," that prints to the console:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// `LoggerInterface` is a functional interface, so we can implement it with a\n// lambda.\nfinal logger = Logger.new_impl((String arg) -> System.out.println(arg));\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," You'll most likely want to write the logs to a file for debugging purposes."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("em",{parentName:"p"},"none")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/util/logger/trait.Logger.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/Logger.java"}),"Java bindings")),Object(i.b)("h3",{id:"initialize-the-broadcasterinterface"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"BroadcasterInterface")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," broadcasting various lightning transactions "),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// Note that the `tx` argument is a []byte type. \nfinal tx_broadcaster = BroadcasterInterface.new_impl(tx -> {\n    // <insert code to actually broadcast the given transaction here>\n});\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("em",{parentName:"p"},"none")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/chaininterface/trait.BroadcasterInterface.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/BroadcasterInterface.java"}),"Java bindings")),Object(i.b)("h3",{id:"initialize-persist"},"Initialize ",Object(i.b)("inlineCode",{parentName:"h3"},"Persist")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," persisting crucial channel data in a timely manner"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"Persist persister = Persist.new_impl(new Persist.PersistInterface() {\n  @Override\n  public Result_NoneChannelMonitorUpdateErrZ persist_new_channel(OutPoint id, \n    ChannelMonitor data) {\n      byte[] channel_monitor_bytes = data.write();\n      // <insert code to write these bytes to disk, keyed by `id`>\n  }\n\n  @Override\n  public Result_NoneChannelMonitorUpdateErrZ update_persisted_channel(\n    OutPoint id, ChannelMonitorUpdate update, ChannelMonitor data) {\n      byte[] channel_monitor_bytes = data.write();\n      // <insert code to update the `ChannelMonitor`'s file on disk with these\n      // new bytes, keyed by `id`>\n  }\n});\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("em",{parentName:"p"},"none")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/channelmonitor/trait.Persist.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/Persist.java"}),"Java bindings")),Object(i.b)("h3",{id:"initialize-the-chainmonitor"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"ChainMonitor")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," monitoring the chain for lighting transactions that are relevant to our node, and broadcasting force close transactions if need be"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," how to initialize a ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")," if you ",Object(i.b)("em",{parentName:"p"},"are")," running a light client or filtering for transactions"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"Filter tx_filter = Filter.new_impl(new Filter.FilterInterface() {\n    @Override\n    public void register_tx(byte[] txid, byte[] script_pubkey) {\n        // <insert code for you to watch for this transaction on-chain>\n    }\n    \n    @Override\n    void register_output(OutPoint outpoint, byte[] script_pubkey) {\n        // <insert code for you to watch for any transactions that spend this\n        // output on-chain>\n    }\n});\nfinal chain_monitor = ChainMonitor.constructor_new(tx_filter, tx_broadcaster, \n    logger, fee_estimator, persister);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," how to initialize a ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")," if you're providing full blocks"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"final chain_monitor = ChainMonitor.constructor_new(null, tx_broadcaster, logger,\n    fee_estimator, persister);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"FeeEstimator"),", ",Object(i.b)("inlineCode",{parentName:"p"},"Logger"),", ",Object(i.b)("inlineCode",{parentName:"p"},"BroadcasterInterface"),", ",Object(i.b)("inlineCode",{parentName:"p"},"Persist")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Optional dependency:")," ",Object(i.b)("inlineCode",{parentName:"p"},"Filter")," allows LDK to let you know what transactions you should filter blocks for. This is useful if you pre-filter blocks or use compact filters. Otherwise, LDK will need full blocks."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/chainmonitor/struct.ChainMonitor.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/ChainMonitor.java"}),"Java bindings"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/trait.Filter.html"}),"Rust ",Object(i.b)("inlineCode",{parentName:"a"},"Filter")," docs")),Object(i.b)("h3",{id:"initialize-the-keysmanager"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"KeysManager")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," providing keys for signing lightning transactions"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"byte[] key_seed = new byte[32];\n<insert code to fill key_seed with random bytes>\n// Notes about this `KeysManager`:\n// * it is parameterized by the mainnet bitcoin network, but this should be \n//   swapped out for testnet or regtest as needed.\n// * the current time is part of the parameters because it is used to derive\n//   random numbers from the seed where required, to ensure all random\n//   generation is unique across restarts.\nKeysManager keys = KeysManager.constructor_new(key_seed, \n    LDKNetwork.LDKNetwork_Bitcoin, System.currentTimeMillis() / 1000, \n    (int) (System.currentTimeMillis() * 1000));\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," See the Key Management guide for more information."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," random bytes, the current bitcoin network"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/keysinterface/struct.KeysManager.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/KeysManager.java"}),"Java bindings")),Object(i.b)("h3",{id:"read-channelmonitor-state-from-disk"},"Read ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelMonitor")," state from disk"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," if LDK is restarting, its channel state will need to be read from disk and fed to the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," on the next step, as well as the ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")," in the following step."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," reading ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor"),"s from disk, where each ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor"),"'s file is named after its funding outpoint:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'// Initialize the hashmap where we\'ll store the `ChannelMonitor`s read from disk.\n// This hashmap will later be given to the `ChannelManager` on initialization.\nfinal HashMap<String, ChannelMonitor> channel_monitors = new HashMap<>();\n\nbyte[] channel_monitor_bytes = // read the bytes from disk the same way you \n                               // wrote them in step "Initialize `Persist`"\nResult_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ channel_monitor_read_result = \n    UtilMethods.constructor_BlockHashChannelMonitorZ_read(monitor_bytes, \n        keys_manager.as_KeysInterface());\n\n// Assert that the result of reading bytes from disk is OK.\nassert channel_monitor_read_result instanceof \n    Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ\n    .Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ_OK;\n\n// Cast the result of reading bytes from disk into its type in the `success`\n// read case.\nTwoTuple<OutPoint, byte[]> funding_txo_and_monitor = \n    ((Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ\n    .Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ_OK) \n    channel_monitor_read_result)\n\n// Take the `ChannelMonitor` out of the result (the other part of the result is\n// the blockhash that the `ChannelMonitor` last saw).\nChannelMonitor channel_monitor = \n    ((Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ\n    .Result_C2Tuple_BlockHashChannelMonitorZDecodeErrorZ_OK) res).res.b;\n\nOutPoint channel_monitor_funding_txo = channel_monitor.get_funding_txo().a;\nString channel_monitor_funding_txo_str = \n    Arrays.toString(channel_monitor_funding_txo.get_txid());\nchannel_monitors.put(channel_monitor_funding_txo_str, channel_monitor);\n')),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"KeysManager")),Object(i.b)("h3",{id:"sync-channelmonitors-to-chain-tip"},"Sync ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelMonitor"),"s to chain tip"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," ensuring the channel data state is up-to-date with the bitcoin blockchain"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," in Rust, of bringing a ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," up to chain tip: ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/rust-bitcoin/rust-lightning/pull/763/files#diff-f457bab978fc8b89ad308d5195f99d7b65a4a6ba1673c5f164104b2dda9a0db6R251"}),"https://github.com/rust-bitcoin/rust-lightning/pull/763/files#diff-f457bab978fc8b89ad308d5195f99d7b65a4a6ba1673c5f164104b2dda9a0db6R251"),". The ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," is the ",Object(i.b)("inlineCode",{parentName:"p"},"chain_listener")," parameter. See the linked function and the ",Object(i.b)("inlineCode",{parentName:"p"},"find_fork")," function within it."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," when you read each ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," off of disk, it comes with a blockhash which was the last block the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," saw. If the blockhash is on a fork of the main chain, then first you need to disconnect blocks until the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," gets to a common ancestor with the main chain. Then after this disconnection happens if it needs to, you then need to connect recent blocks until the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor")," is at the current chain tip."),Object(i.b)("h3",{id:"initialize-the-channelmanager"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelManager")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," managing channel state"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," initializing ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," on a fresh node:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"int block_height = // <insert current chain tip height>;\nfinal channel_manager = ChannelManager.constructor_new(\n    LDKNetwork.LDKNetwork_Bitcoin, fee_estimator, chain_monitor.as_Watch(), \n    tx_broadcaster, logger, keys_manager.as_KeysInterface(), \n    UserConfig.constructor_default(), block_height);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," initializing ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," on restart:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'byte[] serialized_channel_manager = // <insert bytes you would have written in \n                                    // following the later step "Persist \n                                    // channel manager">\nResult_C2Tuple_BlockHashChannelManagerZDecodeErrorZ channel_manager_read_result =\n  UtilMethods.constructor_BlockHashChannelManagerZ_read(serialized_channel_manager, \n  keys_manager.as_KeysInterface(), fee_estimator, chain_monitor.as_Watch(), \n  tx_broadcaster, logger, UserConfig.constructor_default(), channel_monitors);\n\n// Assert we were able to read successfully.\nassert channel_manager_read_result instanceof \n    Result_C2Tuple_BlockHashChannelManagerZDecodeErrorZ\n    .Result_C2Tuple_BlockHashChannelManagerZDecodeErrorZ_OK;\n\nfinal channel_manager = ((Result_C2Tuple_BlockHashChannelManagerZDecodeErrorZ\n    .Result_C2Tuple_BlockHashChannelManagerZDecodeErrorZ_OK) channel_manager_read_result)\n    .res.b;\n')),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"KeysManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"FeeEstimator"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor"),", ",Object(i.b)("inlineCode",{parentName:"p"},"BroadcasterInterface"),", ",Object(i.b)("inlineCode",{parentName:"p"},"Logger"),", channel configuration info, and the set of ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor"),"s we read from disk in the previous step if restarting"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/ln/channelmanager/struct.ChannelManager.html"}),"Rust ",Object(i.b)("inlineCode",{parentName:"a"},"ChannelManager")," docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/ChannelManager.java"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"ChannelManager")," bindings")),Object(i.b)("h3",{id:"give-channelmonitors-to-chainmonitor"},"Give ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelMonitor"),"s to ",Object(i.b)("inlineCode",{parentName:"h3"},"ChainMonitor")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"}," What it's used for:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")," is responsible for updating the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelMonitor"),"s during LDK node operation."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// Give each `ChannelMonitor` to the `ChainMonitor`.\nfinal chain_watch = chain_monitor.as_Watch();\nchain_watch.watch_channel(channel_monitor.get_funding_txo().a, channel_monitor);\n")),Object(i.b)("h3",{id:"optional-initialize-the-netgraphmsghandler"},"Optional: Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"NetGraphMsgHandler")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," generating routes to send payments over"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," initializing ",Object(i.b)("inlineCode",{parentName:"p"},"NetGraphMsgHandler")," without providing an ",Object(i.b)("inlineCode",{parentName:"p"},"Access")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"final router = NetGraphMsgHandler.constructor_new(new byte[32], null, logger);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," this struct is not required if you are providing your own routes."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"Logger")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Optional dependency:")," ",Object(i.b)("inlineCode",{parentName:"p"},"Access"),", a source of chain information. Recommended to be able to verify channels before adding them to the internal network graph."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/routing/network_graph/struct.NetGraphMsgHandler.html"}),Object(i.b)("inlineCode",{parentName:"a"},"NetGraphMsgHandler")," Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/NetGraphMsgHandler.java"}),"Java bindings"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/trait.Access.html"}),Object(i.b)("inlineCode",{parentName:"a"},"Access")," Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/Access.java"}),Object(i.b)("inlineCode",{parentName:"a"},"Access")," Java bindings")),Object(i.b)("h3",{id:"initialize-the-peermanager"},"Initialize the ",Object(i.b)("inlineCode",{parentName:"h3"},"PeerManager")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," managing peer data"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"byte[] random_bytes = new byte[32];\n// <insert code to fill in `random_data` with random bytes>\n\nfinal peer_manager = PeerManager.constructor_new(\n    chan_manager.as_ChannelMessageHandler(), router.as_RoutingMessageHandler(), \n    keys_interface.get_node_secret(), random_bytes, logger);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," if you did not initialize ",Object(i.b)("inlineCode",{parentName:"p"},"NetGraphMsgHandler")," in the previous step, you can initialize your own struct (which can be a dummy struct) that implements ",Object(i.b)("inlineCode",{parentName:"p"},"RoutingMessageHandlerInterface")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"RoutingMessageHandlerInterface"),", ",Object(i.b)("inlineCode",{parentName:"p"},"KeysManager"),", random bytes, ",Object(i.b)("inlineCode",{parentName:"p"},"Logger")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/ln/peer_handler/struct.PeerManager.html"}),"Rust docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/PeerManager.java"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"PeerManager")," bindings"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/ln/msgs/trait.RoutingMessageHandler.html"}),"Rust ",Object(i.b)("inlineCode",{parentName:"a"},"RoutingMessageHandler")," docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/RoutingMessageHandler.java"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"RoutingMessageHandler")," bindings")),Object(i.b)("h3",{id:"initialize-networking"},"Initialize networking"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," making peer connections, facilitating peer data to and from LDK"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),'final nio_peer_handler;\ntry { \n    nio_peer_handler = new NioPeerHandler(peer_manager); \n} catch (IOException e) { assert false; }\n\n// Start `NioPeerHandler` listening for connections.\nfinal port = 9735;\nnio_peer_handler.bind_listener(new InetSocketAddress("0.0.0.0", port));\n')),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," this code sample uses LDK's supplied Java networking battery ",Object(i.b)("inlineCode",{parentName:"p"},"NioPeerHandler")," wrapped around the core LDK object ",Object(i.b)("inlineCode",{parentName:"p"},"PeerManager"),"."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"PeerManager")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/batteries/NioPeerHandler.java"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"NioPeerHandler"))),Object(i.b)("h2",{id:"running-ldk"},"Running LDK"),Object(i.b)("p",null,"This section assumes you've already run all the steps in ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#setup"}),"Setup"),"."),Object(i.b)("h3",{id:"connected-and-disconnected-blocks"},"Connected and Disconnected Blocks"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," LDK needs to know when blocks are newly connected and disconnected."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// header is a []byte type, height is `int`, txdata is a \n// TwoTuple<Long, byte[]>[], where the 0th element is the transaction's position \n// in the block (with the coinbase transaction considered position 0) and the 1st \n// element is the transaction bytes\nchannel_manager.block_connected(header, txn, height);\nchain_monitor.block_connected(header, txn, height);\n\nchannel_manager.block_disconnected(header);\nchain_monitor.block_disconnected(header);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," blocks must be connected and disconnected in chain order."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/chain/chainmonitor/struct.ChainMonitor.html#method.block_connected"}),"Rust ",Object(i.b)("inlineCode",{parentName:"a"},"ChainMonitor")," ",Object(i.b)("inlineCode",{parentName:"a"},"block_(dis)connected")," docs"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://docs.rs/lightning/0.0.12/lightning/ln/channelmanager/struct.ChannelManager.html#method.block_connected"}),"Rust ",Object(i.b)("inlineCode",{parentName:"a"},"ChannelManager")," ",Object(i.b)("inlineCode",{parentName:"a"},"block_(dis)connected")),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/51638b0070b47ec83459dc7fa74aa823dd890f58/src/main/java/org/ldk/structs/ChainMonitor.java#L17"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"ChainMonitor")," ",Object(i.b)("inlineCode",{parentName:"a"},"block_(dis)connected")," bindings"),", ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/51638b0070b47ec83459dc7fa74aa823dd890f58/src/main/java/org/ldk/structs/ChannelManager.java#L136"}),"Java ",Object(i.b)("inlineCode",{parentName:"a"},"ChannelManager")," ",Object(i.b)("inlineCode",{parentName:"a"},"block_(dis)connected")," bindings")),Object(i.b)("h3",{id:"handle-channelmanager-and-chainmonitors-generated-events"},"Handle ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelManager")," and ",Object(i.b)("inlineCode",{parentName:"h3"},"ChainMonitor"),"'s Generated Events"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," and ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")," generate events that must be handled by you, such as telling you when a payment has been successfully received or when a funding transaction is ready for broadcast."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," in Rust, of handling these events: ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/TheBlueMatt/rust-lightning-bitcoinrpc/blob/master/src/main.rs#L122"}),"https://github.com/TheBlueMatt/rust-lightning-bitcoinrpc/blob/master/src/main.rs#L122")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// On startup, start this loop:\nwhile(true) {\n    Event[] channel_manager_events = \n        channel_manager.as_EventsProvider().get_and_clear_pending_events();\n    Event[] chain_monitor_events = \n        chain_watch.as_EventsProvider().get_and_clear_pending_events();\n\n    Event[] all_events = ArrayUtils.addAll(channel_manager_events, \n        chain_monitor_events);\n    for (Event e: all_events) {\n        // <insert code to handle each event>\n    }\n}\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"References:")," ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/lightningdevkit/ldk-garbagecollected/blob/main/src/main/java/org/ldk/structs/Event.java"}),"events to handle in Java")),Object(i.b)("h3",{id:"persist-channelmanager"},"Persist ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelManager")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," keeping ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),"'s stored state up-to-date"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," persist ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," after each event you handled in the previous step"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"while (true) {\n    // <code from the previous step that handles `ChannelManager` and \n    // `ChainMonitor` events>\n\n    // After the `for` loop in the previous step has handled `all_events`:\n    byte[] channel_manager_bytes_to_write = channel_manager.write();\n    // <insert code that writes these bytes to disk and/or backups>\n}\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Implementation notes:")," if the ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," is not persisted properly to disk, there is risk of channels force closing the next time LDK starts up. However, in this situation, no funds other than those used to pay force-closed channel fees are at risk of being lost."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"ChainMonitor")),Object(i.b)("h3",{id:"once-per-minute-channelmanagers-timer_chan_freshness_every_min"},"Once Per Minute: ",Object(i.b)("inlineCode",{parentName:"h3"},"ChannelManager"),"'s ",Object(i.b)("inlineCode",{parentName:"h3"},"timer_chan_freshness_every_min()")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"What it's used for:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")," needs to be told every time a minute passes so that it can broadcast fresh channel updates if needed"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"while (true) {\n    // <wait 60 seconds>\n    channel_manager.timer_chan_freshness_every_min();\n}\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager")),Object(i.b)("h2",{id:"using-ldk"},"Using LDK"),Object(i.b)("p",null,"This section assumes you've followed the steps of the ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#setup"}),"Setup")," and ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#running-ldk"}),"Running LDK"),"."),Object(i.b)("h3",{id:"opening-a-channel"},"Opening a Channel"),Object(i.b)("p",null,'See the "Opening a Channel" guide.'),Object(i.b)("h3",{id:"closing-a-channel"},"Closing a Channel"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," cooperative close"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// Assuming 1 open channel\nbyte[] channel_id = channel_manager.list_channels()[0].get_channel_id();\nResult_NoneAPIErrorZ close_result = channel_manager.close_channel(\n    channel_id);\nassert close_result instanceof Result_NoneAPIErrorZ.Result_NoneAPIErrorZ_OK;\n\n// Make sure the peer manager processes this new event.\nnio_peer_handler.check_events();\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")," force/unilateral close"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"// Assuming 1 open channel\nbyte[] channel_id = channel_manager.list_channels()[0].get_channel_id();\nResult_NoneAPIErrorZ channel_manager.force_close_channel(channel_id);\n\n// Make sure the peer manager processes this new event.\nnio_peer_handler.check_events();\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"ChannelManager"),", ",Object(i.b)("inlineCode",{parentName:"p"},"NioPeerHandler")),Object(i.b)("h3",{id:"list-channels"},"List Channels"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"ChannelDetails[] channels = channel_manager.list_channels();\n")),Object(i.b)("h3",{id:"wip-sendingreceiving-payments"},"WIP: Sending/Receiving Payments"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"NOTE: CURRENTLY UNSUPPORTED IN JAVA")),Object(i.b)("p",null,"Currently unsatisfied dependencies:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"a way of constructing ",Object(i.b)("inlineCode",{parentName:"li"},"NodeFeatures")," and ",Object(i.b)("inlineCode",{parentName:"li"},"ChannelFeatures")," LDK structs (which should be exposed soon)"),Object(i.b)("li",{parentName:"ol"},"a way to parse invoices (we need to generate bindings for the ",Object(i.b)("inlineCode",{parentName:"li"},"rust-invoices")," crate)")),Object(i.b)("h3",{id:"connect-to-peers"},"Connect to Peers"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"byte[] peer_pubkey = // insert peer's pubkey bytes\nint peer_port = 9735; // replace this with the peer's port number\nString peer_host = \"192.168.1.2\"; // replace this with the peer's host\nSocketAddress peer_socket_addr = new InetSocketAddress(peer_host, peer_port);\nnio_peer_handler.connect(peer_pubkey, peer_socket_address);\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"PeerManager"),", peer's pubkey/host/port"),Object(i.b)("h3",{id:"list-peers"},"List Peers"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Example:")),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-java"}),"byte[][] peer_node_ids = peer_manager.get_peer_node_ids();\n")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Dependencies:")," ",Object(i.b)("inlineCode",{parentName:"p"},"PeerManager")))}b.isMDXComponent=!0},87:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return g}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=r.a.createContext({}),b=function(e){var n=r.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):c(c({},n),e)),t},p=function(e){var n=b(e.components);return r.a.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},h=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=b(t),h=a,g=p["".concat(o,".").concat(h)]||p[h]||d[h]||i;return t?r.a.createElement(g,c(c({ref:n},s),{},{components:t})):r.a.createElement(g,c({ref:n},s))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=h;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var s=2;s<i;s++)o[s]=t[s];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}h.displayName="MDXCreateElement"}}]);